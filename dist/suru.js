!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(2);e.Suru=n.Suru;const s=r(5);e.Task=s.Task},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__current_task=Symbol("__current_task"),e.__tasks=Symbol("__tasks")},function(t,e,r){"use strict";var n,s;Object.defineProperty(e,"__esModule",{value:!0});const o=r(0),i=r(3),u=r(1);class a{constructor(){this[n]={},this[s]=null,this.bits={}}task(t){return i.TaskBuilder.call(this,t)}getTask(t){return this[u.__tasks][t]}invoke(t){const e=this.getTask(t);if(!(e instanceof o.Task))throw new Error(`Cannot invoke task ! ${JSON.stringify(e,null,3)}`);return e.run.bind(e)}static register(){if(!("suru"in global)){const t=new a;Object.defineProperties(global,{suru:{get:()=>t},task:{get:()=>t.task.bind(t)},invoke:{get:()=>t.invoke.bind(t)},bit:{get:()=>t.bit.bind(t)}})}return global.suru}registerBit(t,e){return this.bits[t]=((...r)=>{if(!(this[u.__current_task]instanceof o.Task))throw new Error(`Cannot call ${t}. Task bits functions can only be called when defining a task.`);e(...r)(this[u.__current_task])}),this}static registerBit(t,e){return a.register().registerBit(t,e)}bit(t){const e=require||r(4);return e(e.resolve(`${t}/register`)?`${t}/register`:t),this}}n=u.__tasks,s=u.__current_task,e.Suru=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),s=r(0);e.TaskBuilder=function(t){const e=new s.Task,r=[],o={};Object.keys(this.bits).forEach(t=>{const e=Object.getOwnPropertyDescriptor(global,t);e?o[t]=e:r.push(t),Object.defineProperty(global,t,{get:()=>this.bits[t],configurable:!0})});const i=this[n.__current_task];if(this[n.__current_task]=e,t(),this[n.__current_task]=i,Object.keys(o).forEach(t=>{Object.defineProperty(global,t,o[t])}),r.forEach(t=>delete global[t]),!e.name||"string"!=typeof e.name||e.name.trim().length<1)throw new Error(`Task name should be a non-empty string! Got: ${e.name}`);if("function"!=typeof e.run)throw new Error("Task run should be a function");return this[n.__tasks][e.name]=e,e.run.bind(e)}},function(t,e){function r(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=4},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6);e.Task=n.Task},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Task=class{constructor(){this.runFn=(()=>{})}run(...t){this.runFn.call(this,...t)}}}]);